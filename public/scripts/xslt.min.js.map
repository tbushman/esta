{"version":3,"sources":["xslt.js"],"names":["slice","indexOf","item","i","l","this","length","root","factory","define","amd","module","exports","xslt","$xslt","activeXSupported","buildElementString","cleanRootNamespaces","cleanupXmlNodes","collapseEmptyElements","createDomDoc","createXSLTemplate","defaults","docToStr","expandCollapsedElements","extractNamespaces","getAttrVal","getAttributes","getHeader","getHeaderEncoding","getHeaderStandalone","hasXmlHeader","isXml","loadOptions","manualCreateElement","needsHeader","newDocument","prependHeader","regex","strToDoc","stripAllNamespaces","stripDuplicateAttributes","stripHeader","stripNamespacedNamespace","stripNullNamespaces","tryCreateActiveX","xmlHeader","xmlNode","xmlLike","namespaces","str","test","encoding","standalone","replace","match","ref","trim","node","attrName","RegExp","exec","ActiveXObject","id","len","objIds","arguments","call","undefined","d","apply","async","readyState","res","xml","document","createElement","src","body","appendChild","XMLDocument","removeChild","DOMParser","implementation","createDocument","ref1","ref2","ref3","loadXML","documentElement","parseError","errorCode","Error","load","parseFromString","getElementsByTagName","nodeName","textContent","doc","XMLSerializer","serializeToString","substring","lastIndexOf","excludeFn","attrRegex","attrs","innerA","innerB","name","outer","parts","val","inner","closeTag","elStr","opt","attName","ns","uri","excludedNamespaceUris","includeNamespaces","results","push","blacklist","num","nums","excludedUris","orig","key","isRootNode","namespaceBlacklist","source","rootNamespaces","removeNamespacedNamespace","removeNullNamespace","removeAllNamespaces","removeDupAttrs","removeDupNamespace","all","element","fullDocument","cleanup","xmlHeaderInOutput","normalizeHeader","preserveEncoding","moveNamespacesToRoot","options","p","xmlStr","xsltStr","outStr","processor","trans","xmlDoc","xslProc","xsltDoc","XSLTProcessor","importStylesheet","transformToDocument","transformToFragment","transformNode","stylesheet","createProcessor","input","transform","output"],"mappings":"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","file":"xslt.min.js"}